2025-09-10 11:54:00.132 [INFO] [server::startup]: Backend server started successfully | {"port":"8000","url":"http://localhost:8000","environment":"development"}
2025-09-10 11:54:00.133 [INFO] [server::startup]: API endpoints available: | {"endpoints":{"health":"http://localhost:8000/api/health","users":"http://localhost:8000/api/users","auth":"http://localhost:8000/api/auth"}}
2025-09-10 11:54:00.233 [ERROR] [server]: Server error: | {"error":"listen EADDRINUSE: address already in use :::8000","stack":"Error: listen EADDRINUSE: address already in use :::8000\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at Function.listen (E:\\WMS\\V1\\wmsv1\\backend\\node_modules\\express\\lib\\application.js:635:24)\n    at Object.<anonymous> (E:\\WMS\\V1\\wmsv1\\backend\\src\\server.ts:24:22)\n    at Module._compile (node:internal/modules/cjs/loader:1706:14)\n    at Module.m._compile (E:\\WMS\\V1\\wmsv1\\node_modules\\ts-node\\src\\index.ts:1618:23)\n    at node:internal/modules/cjs/loader:1839:10\n    at Object.require.extensions.<computed> [as .ts] (E:\\WMS\\V1\\wmsv1\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1441:32)"}
2025-09-10 11:54:30.350 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/auth/me","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:54:30.403 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/auth/me"}
2025-09-10 11:54:30.403 [INFO] [authRoutes::me] {UID:1}: Auth me request
2025-09-10 11:54:30.405 [INFO] [authRoutes::me] {UID:1}: Auth me successful
2025-09-10 11:54:30.406 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/auth/me","statusCode":200,"duration":"56ms"}
2025-09-10 11:54:30.409 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/auth/me","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:54:30.414 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/auth/me"}
2025-09-10 11:54:30.414 [INFO] [authRoutes::me] {UID:1}: Auth me request
2025-09-10 11:54:30.417 [INFO] [authRoutes::me] {UID:1}: Auth me successful
2025-09-10 11:54:30.418 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/auth/me","statusCode":200,"duration":"8ms"}
2025-09-10 11:54:30.446 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:54:30.454 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/profile"}
2025-09-10 11:54:30.455 [INFO] [profileRoutes::getProfile] {UID:1}: Fetching current user profile
2025-09-10 11:54:30.522 [ERROR] [profileRoutes::getProfile]: Error fetching profile | {"error":"\nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.","stack":"PrismaClientValidationError: \nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.\n    at throwValidationException (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\core\\errorRendering\\throwValidationException.ts:45:9)\n    at ei.handleRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:202:7)\n    at ei.handleAndLogRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:174:12)\n    at ei.request (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:143:12)\n    at async a (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\getPrismaClient.ts:833:24)\n    at async E:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:18"}
2025-09-10 11:54:30.522 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":500,"duration":"76ms"}
2025-09-10 11:54:30.524 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:54:30.532 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/profile"}
2025-09-10 11:54:30.532 [INFO] [profileRoutes::getProfile] {UID:1}: Fetching current user profile
2025-09-10 11:54:30.536 [ERROR] [profileRoutes::getProfile]: Error fetching profile | {"error":"\nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.","stack":"PrismaClientValidationError: \nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.\n    at throwValidationException (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\core\\errorRendering\\throwValidationException.ts:45:9)\n    at ei.handleRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:202:7)\n    at ei.handleAndLogRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:174:12)\n    at ei.request (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:143:12)\n    at async a (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\getPrismaClient.ts:833:24)\n    at async E:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:18"}
2025-09-10 11:54:30.536 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":500,"duration":"12ms"}
2025-09-10 11:54:30.541 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:54:30.546 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/profile"}
2025-09-10 11:54:30.546 [INFO] [profileRoutes::getProfile] {UID:1}: Fetching current user profile
2025-09-10 11:54:30.548 [ERROR] [profileRoutes::getProfile]: Error fetching profile | {"error":"\nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.","stack":"PrismaClientValidationError: \nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.\n    at throwValidationException (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\core\\errorRendering\\throwValidationException.ts:45:9)\n    at ei.handleRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:202:7)\n    at ei.handleAndLogRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:174:12)\n    at ei.request (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:143:12)\n    at async a (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\getPrismaClient.ts:833:24)\n    at async E:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:18"}
2025-09-10 11:54:30.548 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":500,"duration":"7ms"}
2025-09-10 11:54:55.953 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/health","userAgent":"curl/8.15.0","ip":"::1"}
2025-09-10 11:54:55.954 [INFO] [app::health]: Health check endpoint accessed
2025-09-10 11:54:55.954 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/health","statusCode":200,"duration":"1ms"}
2025-09-10 11:57:18.095 [INFO] [server::startup]: Backend server started successfully | {"port":"8000","url":"http://localhost:8000","environment":"development"}
2025-09-10 11:57:18.096 [INFO] [server::startup]: API endpoints available: | {"endpoints":{"health":"http://localhost:8000/api/health","users":"http://localhost:8000/api/users","auth":"http://localhost:8000/api/auth"}}
2025-09-10 11:57:31.062 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/auth/me","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:57:31.113 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/auth/me"}
2025-09-10 11:57:31.113 [INFO] [authRoutes::me] {UID:1}: Auth me request
2025-09-10 11:57:31.115 [INFO] [authRoutes::me] {UID:1}: Auth me successful
2025-09-10 11:57:31.116 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/auth/me","statusCode":200,"duration":"54ms"}
2025-09-10 11:57:31.118 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/auth/me","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:57:31.123 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/auth/me"}
2025-09-10 11:57:31.123 [INFO] [authRoutes::me] {UID:1}: Auth me request
2025-09-10 11:57:31.125 [INFO] [authRoutes::me] {UID:1}: Auth me successful
2025-09-10 11:57:31.125 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/auth/me","statusCode":200,"duration":"7ms"}
2025-09-10 11:57:36.672 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"POST","url":"/api/auth/login","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:57:36.672 [INFO] [authRoutes::login]: Login attempt | {"email":"mustafa@wmlab.com"}
2025-09-10 11:57:36.751 [INFO] [authRoutes::login] {UID:1}: Login successful | {"email":"mustafa@wmlab.com"}
2025-09-10 11:57:36.752 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"POST","url":"/api/auth/login","statusCode":200,"duration":"80ms"}
2025-09-10 11:57:41.354 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:57:41.359 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/profile"}
2025-09-10 11:57:41.360 [INFO] [profileRoutes::getProfile] {UID:1}: Fetching current user profile
2025-09-10 11:57:41.421 [ERROR] [profileRoutes::getProfile]: Error fetching profile | {"error":"\nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.","stack":"PrismaClientValidationError: \nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.\n    at throwValidationException (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\core\\errorRendering\\throwValidationException.ts:45:9)\n    at ei.handleRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:202:7)\n    at ei.handleAndLogRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:174:12)\n    at ei.request (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:143:12)\n    at async a (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\getPrismaClient.ts:833:24)\n    at async E:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:18"}
2025-09-10 11:57:41.421 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":500,"duration":"67ms"}
2025-09-10 11:57:41.424 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:57:41.430 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/profile"}
2025-09-10 11:57:41.430 [INFO] [profileRoutes::getProfile] {UID:1}: Fetching current user profile
2025-09-10 11:57:41.435 [ERROR] [profileRoutes::getProfile]: Error fetching profile | {"error":"\nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.","stack":"PrismaClientValidationError: \nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.\n    at throwValidationException (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\core\\errorRendering\\throwValidationException.ts:45:9)\n    at ei.handleRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:202:7)\n    at ei.handleAndLogRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:174:12)\n    at ei.request (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:143:12)\n    at async a (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\getPrismaClient.ts:833:24)\n    at async E:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:18"}
2025-09-10 11:57:41.435 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":500,"duration":"11ms"}
2025-09-10 11:57:45.521 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/auth/me","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:57:45.526 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/auth/me"}
2025-09-10 11:57:45.527 [INFO] [authRoutes::me] {UID:1}: Auth me request
2025-09-10 11:57:45.529 [INFO] [authRoutes::me] {UID:1}: Auth me successful
2025-09-10 11:57:45.529 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/auth/me","statusCode":200,"duration":"8ms"}
2025-09-10 11:57:45.531 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/auth/me","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:57:45.535 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/auth/me"}
2025-09-10 11:57:45.536 [INFO] [authRoutes::me] {UID:1}: Auth me request
2025-09-10 11:57:45.537 [INFO] [authRoutes::me] {UID:1}: Auth me successful
2025-09-10 11:57:45.538 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/auth/me","statusCode":200,"duration":"7ms"}
2025-09-10 11:57:45.564 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:57:45.569 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/profile"}
2025-09-10 11:57:45.569 [INFO] [profileRoutes::getProfile] {UID:1}: Fetching current user profile
2025-09-10 11:57:45.572 [ERROR] [profileRoutes::getProfile]: Error fetching profile | {"error":"\nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.","stack":"PrismaClientValidationError: \nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.\n    at throwValidationException (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\core\\errorRendering\\throwValidationException.ts:45:9)\n    at ei.handleRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:202:7)\n    at ei.handleAndLogRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:174:12)\n    at ei.request (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:143:12)\n    at async a (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\getPrismaClient.ts:833:24)\n    at async E:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:18"}
2025-09-10 11:57:45.572 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":500,"duration":"8ms"}
2025-09-10 11:57:45.574 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:57:45.579 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/profile"}
2025-09-10 11:57:45.579 [INFO] [profileRoutes::getProfile] {UID:1}: Fetching current user profile
2025-09-10 11:57:45.581 [ERROR] [profileRoutes::getProfile]: Error fetching profile | {"error":"\nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.","stack":"PrismaClientValidationError: \nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.\n    at throwValidationException (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\core\\errorRendering\\throwValidationException.ts:45:9)\n    at ei.handleRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:202:7)\n    at ei.handleAndLogRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:174:12)\n    at ei.request (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:143:12)\n    at async a (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\getPrismaClient.ts:833:24)\n    at async E:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:18"}
2025-09-10 11:57:45.581 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":500,"duration":"7ms"}
2025-09-10 11:57:45.582 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 11:57:45.587 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/profile"}
2025-09-10 11:57:45.587 [INFO] [profileRoutes::getProfile] {UID:1}: Fetching current user profile
2025-09-10 11:57:45.589 [ERROR] [profileRoutes::getProfile]: Error fetching profile | {"error":"\nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.","stack":"PrismaClientValidationError: \nInvalid `prisma.users.findUnique()` invocation in\nE:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:37\n\n  21   userId: req.user!.id.toString()\n  22 });\n  23 \n→ 24 const user = await prisma.users.findUnique({\n       where: {\n         id: \"1\"\n             ~~~\n       },\n       include: {\n         user_roles_user_roles_user_idTousers: {\n           include: {\n             roles: true\n           }\n         }\n       }\n     })\n\nArgument `id`: Invalid value provided. Expected Int, provided String.\n    at throwValidationException (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\core\\errorRendering\\throwValidationException.ts:45:9)\n    at ei.handleRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:202:7)\n    at ei.handleAndLogRequestError (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:174:12)\n    at ei.request (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\RequestHandler.ts:143:12)\n    at async a (E:\\WMS\\V1\\wmsv1\\node_modules\\@prisma\\client\\src\\runtime\\getPrismaClient.ts:833:24)\n    at async E:\\WMS\\V1\\wmsv1\\backend\\src\\routes\\profileRoutes.ts:24:18"}
2025-09-10 11:57:45.589 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":500,"duration":"7ms"}
2025-09-10 12:00:00.917 [INFO] [server::startup]: Backend server started successfully | {"port":"8000","url":"http://localhost:8000","environment":"development"}
2025-09-10 12:00:00.918 [INFO] [server::startup]: API endpoints available: | {"endpoints":{"health":"http://localhost:8000/api/health","users":"http://localhost:8000/api/users","auth":"http://localhost:8000/api/auth"}}
2025-09-10 12:00:12.989 [ERROR] [server]: Server error: | {"error":"listen EADDRINUSE: address already in use :::8000","stack":"Error: listen EADDRINUSE: address already in use :::8000\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at Function.listen (E:\\WMS\\V1\\wmsv1\\backend\\node_modules\\express\\lib\\application.js:635:24)\n    at Object.<anonymous> (E:\\WMS\\V1\\wmsv1\\backend\\src\\server.ts:24:22)\n    at Module._compile (node:internal/modules/cjs/loader:1706:14)\n    at Module.m._compile (E:\\WMS\\V1\\wmsv1\\node_modules\\ts-node\\src\\index.ts:1618:23)\n    at node:internal/modules/cjs/loader:1839:10\n    at Object.require.extensions.<computed> [as .ts] (E:\\WMS\\V1\\wmsv1\\node_modules\\ts-node\\src\\index.ts:1621:12)\n    at Module.load (node:internal/modules/cjs/loader:1441:32)"}
2025-09-10 12:01:38.839 [INFO] [server::startup]: Backend server started successfully | {"port":"8000","url":"http://localhost:8000","environment":"development"}
2025-09-10 12:01:38.840 [INFO] [server::startup]: API endpoints available: | {"endpoints":{"health":"http://localhost:8000/api/health","users":"http://localhost:8000/api/users","auth":"http://localhost:8000/api/auth"}}
2025-09-10 12:01:46.527 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"curl/8.15.0","ip":"::1"}
2025-09-10 12:01:46.530 [WARN] [authMiddleware::authenticateToken]: Authentication failed: invalid or expired token | {"url":"/api/profile","error":"invalid signature"}
2025-09-10 12:01:46.531 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":401,"duration":"3ms"}
2025-09-10 12:01:51.111 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"POST","url":"/api/auth/login","userAgent":"curl/8.15.0","ip":"::1"}
2025-09-10 12:01:51.112 [INFO] [authRoutes::login]: Login attempt | {"email":"admin@example.com"}
2025-09-10 12:01:51.409 [WARN] [authRoutes::login]: Login failed: invalid credentials | {"email":"admin@example.com"}
2025-09-10 12:01:51.410 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"POST","url":"/api/auth/login","statusCode":401,"duration":"299ms"}
2025-09-10 12:01:59.241 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/auth/me","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 12:01:59.256 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/auth/me"}
2025-09-10 12:01:59.257 [INFO] [authRoutes::me] {UID:1}: Auth me request
2025-09-10 12:01:59.261 [INFO] [authRoutes::me] {UID:1}: Auth me successful
2025-09-10 12:01:59.261 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/auth/me","statusCode":200,"duration":"20ms"}
2025-09-10 12:01:59.264 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/auth/me","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 12:01:59.271 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/auth/me"}
2025-09-10 12:01:59.271 [INFO] [authRoutes::me] {UID:1}: Auth me request
2025-09-10 12:01:59.274 [INFO] [authRoutes::me] {UID:1}: Auth me successful
2025-09-10 12:01:59.274 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/auth/me","statusCode":200,"duration":"11ms"}
2025-09-10 12:01:59.302 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 12:01:59.310 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/profile"}
2025-09-10 12:01:59.310 [INFO] [profileRoutes::getProfile] {UID:1}: Fetching current user profile
2025-09-10 12:01:59.350 [INFO] [profileRoutes::getProfile] {UID:1}: Profile retrieved successfully | {"userEmail":"mustafa@wmlab.com"}
2025-09-10 12:01:59.351 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":200,"duration":"48ms"}
2025-09-10 12:01:59.353 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 12:01:59.358 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/profile"}
2025-09-10 12:01:59.358 [INFO] [profileRoutes::getProfile] {UID:1}: Fetching current user profile
2025-09-10 12:01:59.362 [INFO] [profileRoutes::getProfile] {UID:1}: Profile retrieved successfully | {"userEmail":"mustafa@wmlab.com"}
2025-09-10 12:01:59.362 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":200,"duration":"10ms"}
2025-09-10 12:01:59.364 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","ip":"::1"}
2025-09-10 12:01:59.368 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/profile"}
2025-09-10 12:01:59.368 [INFO] [profileRoutes::getProfile] {UID:1}: Fetching current user profile
2025-09-10 12:01:59.370 [INFO] [profileRoutes::getProfile] {UID:1}: Profile retrieved successfully | {"userEmail":"mustafa@wmlab.com"}
2025-09-10 12:01:59.370 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":200,"duration":"6ms"}
2025-09-10 12:02:09.735 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"POST","url":"/api/auth/login","userAgent":"curl/8.15.0","ip":"::1"}
2025-09-10 12:02:09.736 [INFO] [authRoutes::login]: Login attempt | {"email":"admin@admin.com"}
2025-09-10 12:02:09.738 [WARN] [authRoutes::login]: Login failed: invalid credentials | {"email":"admin@admin.com"}
2025-09-10 12:02:09.738 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"POST","url":"/api/auth/login","statusCode":401,"duration":"3ms"}
2025-09-10 12:02:30.509 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"POST","url":"/api/auth/login","userAgent":"curl/8.15.0","ip":"::1"}
2025-09-10 12:02:30.509 [INFO] [authRoutes::login]: Login attempt | {"email":"mustafa@wmlab.com"}
2025-09-10 12:02:30.576 [INFO] [authRoutes::login] {UID:1}: Login successful | {"email":"mustafa@wmlab.com"}
2025-09-10 12:02:30.576 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"POST","url":"/api/auth/login","statusCode":200,"duration":"67ms"}
2025-09-10 12:02:36.375 [INFO] [middleware::requestLogger]: Incoming request | {"httpMethod":"GET","url":"/api/profile","userAgent":"curl/8.15.0","ip":"::1"}
2025-09-10 12:02:36.380 [INFO] [authMiddleware::authenticateToken] {UID:1}: Authentication successful | {"url":"/api/profile"}
2025-09-10 12:02:36.380 [INFO] [profileRoutes::getProfile] {UID:1}: Fetching current user profile
2025-09-10 12:02:36.382 [INFO] [profileRoutes::getProfile] {UID:1}: Profile retrieved successfully | {"userEmail":"mustafa@wmlab.com"}
2025-09-10 12:02:36.382 [INFO] [middleware::requestLogger]: Request completed | {"httpMethod":"GET","url":"/api/profile","statusCode":200,"duration":"7ms"}
